<!DOCTYPE html>
<html>
<head>
	<title>xo sandbox</title>

	<script src='../xo.js'></script>
	<script src='../utils.js'></script>
</head>
<body>
	<div id='root'></div>
	<div id='root2'></div>
	<div id='root3'></div>
</body>
<script>
	window.x = xo.x;



	root = document.getElementById('root');
	root2 = document.getElementById('root2');
	root3 = document.getElementById('root3');




	const Input = xo.comp(function(_val, onUpdate){
		const [val, setVal] = this.useState(_val);

		this.useEffect(()=>{
			setVal(_val);
		}, [_val])


		return x`<div>
			<button onclick=${()=>onUpdate(val)}>
				set
			</button>
			<input type='text' onchange=${(evt)=>setVal(evt.target.value)} value=${val}></input>
		</div>`
	});

	const Main = xo.comp(function(){
		const [val, setVal] = this.useState('');


		return x`<div>
			${val}
			<hr></hr>
			${Input(val, (newVal)=>setVal(newVal+'!'))}
			<hr></hr>
			<button onclick=${()=>setVal('')}>clear</button>
		</div>`


	})



	let tree;

	tree = xo.render(root, Main(), tree);


</script>
<script>


</script>
</html>