<!DOCTYPE html>
<html>
<head>
	<title>lists - xo test environment</title>

	<script src='../xo.js'></script>
	<script src='../utils.js'></script>
</head>
<body>
	<div id='test'>test</div>
	<div id='root'>
		<div>[placeholder]</div>
	</div>

	<hr />
	<div style='display:flex'>
		<pre><code id='tree'></code></pre>
		<pre><code id='lib'></code></pre>
	</div>
</body>
<script>
	window.x = xo.x;
	const $root = document.getElementById('root');

	const wait = async (n,val)=>new Promise((r)=>setTimeout(()=>r(val), n));

	let tree;

	const ItemC = xo.comp(function(init){
		this.useEffect(()=>{
			console.log('hello', init);
			return ()=>console.log('bye', init);
		},[]);
		return x`<div>${init}</div>`;
	})

	const Item = function(init){
		return x`<div>${init}</div>`
	}

	const ObjList = xo.comp(function(flip=false){
		if(flip){
			return {
				a: ItemC('a'),
				b: ItemC('boo'),
				c: ItemC('c')
			}
		};
		return {
			'0': ItemC(0),
			'1': ItemC(1),
			b: ItemC('b'),
			//Item(2),
			//ItemC(3)
		}
	});

	const ArrList = xo.comp(function(flip=false){
		if(flip){
			return [
				ItemC('a'),
				ItemC('boo'),
				ItemC('c')
			]
		};
		return [
			ItemC(0),
			ItemC(1),
			ItemC('b'),
			//Item(2),
			//ItemC(3)
		]
	})


	let List = ArrList;

	// (async function(){

	// 	tree = xo.render($root, List(true));
	// 	console.log('--------------------');

	// 	await wait(100);

	// 	tree = xo.render($root, List(false), tree);
	// 	console.log('--------------------')

	// 	// await wait(100);

	// 	// tree = xo.render($root, List(), tree);
	// 	// console.log('--------------------')

	// })();



	console.log("HERE", x`<input type='checkbox' onclick=${'foo'} checked=${'foo'}>

				</input>`)


</script>
</html>